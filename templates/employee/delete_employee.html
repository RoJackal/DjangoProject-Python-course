{% extends 'base.html' %}

{% block title %} Delete: {{ employee.first_name }} {{ employee.last_name }} {% endblock %}

{% block content %}
<div class="flex items-center justify-center py-10">
    <div class="w-full max-w-xl">
        <div class="bg-[#1a1d21] border border-red-500/20 rounded-2xl shadow-2xl overflow-hidden">

            <div class="bg-red-500/10 border-b border-red-500/20 p-6">
                <div class="flex items-center justify-center gap-3">
                    <i data-lucide="alert-triangle" class="text-red-500 w-8 h-8"></i>
                    <h2 class="text-xl font-bold text-white uppercase tracking-tight">Terminate Record</h2>
                </div>
            </div>

            <form method="post" class="p-8">
                {% csrf_token %}

                <div class="text-center space-y-6">
                    <div>
                        <h3 class="text-lg font-medium text-gray-200">
                            Are you sure you want to delete <span class="text-white font-bold">{{ employee.first_name }} {{ employee.last_name }}</span>?
                        </h3>
                        <p class="text-sm text-gray-500 mt-2">This action is permanent and cannot be undone.</p>
                    </div>

                    <div class="bg-black/20 border border-white/5 rounded-xl p-5 text-left space-y-3">
                        <label class="text-[10px] font-bold text-accent uppercase tracking-widest block border-b border-white/5 pb-2 mb-2">Employee Summary</label>

                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <small class="text-gray-500 block text-[10px] uppercase">Email</small>
                                <span class="text-sm text-gray-300 truncate block">{{ employee.email }}</span>
                            </div>
                            <div>
                                <small class="text-gray-500 block text-[10px] uppercase">Department</small>
                                <span class="text-sm text-gray-300 block">{{ employee.manager.department|default:"N/A" }}</span>
                            </div>
                            <div>
                                <small class="text-gray-500 block text-[10px] uppercase">Age</small>
                                <span class="text-sm text-gray-300 block">{{ employee.age }} years</span>
                            </div>
                            <div>
                                <small class="text-gray-500 block text-[10px] uppercase">Reporting To</small>
                                <span class="text-sm text-gray-300 block">{{ employee.manager|default:"Direct Report" }}</span>
                            </div>
                        </div>
                    </div>

                    <div class="flex flex-col sm:flex-row gap-4 pt-4">
                        <button type="submit" class="flex-1 flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-6 rounded-xl transition-all shadow-lg shadow-red-600/20 active:scale-[0.98]">
                            <i data-lucide="trash-2" class="w-5 h-5"></i>
                            Yes, Terminate
                        </button>

                        <a href="{% url 'list_employees' %}" class="flex-1 flex items-center justify-center gap-2 bg-white/5 hover:bg-white/10 text-gray-300 font-semibold py-3 px-6 rounded-xl border border-white/10 transition-all">
                            <i data-lucide="x" class="w-5 h-5"></i>
                            No, Cancel
                        </a>
                    </div>
                </div>
            </form>
        </div>

        <p class="text-center mt-6 text-xs text-gray-600">
            <i data-lucide="info" class="inline w-3 h-3 mr-1"></i>
            Logged as <strong>{{ user.username }}</strong>. All deletions are audited in the system logs.
        </p>
    </div>
</div>
{% endblock %}
